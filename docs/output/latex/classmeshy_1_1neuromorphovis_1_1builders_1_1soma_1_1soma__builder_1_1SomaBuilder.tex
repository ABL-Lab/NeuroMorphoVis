\hypertarget{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder}{}\section{meshy.\+neuromorphovis.\+builders.\+soma.\+soma\+\_\+builder.\+Soma\+Builder Class Reference}
\label{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder}\index{meshy.\+neuromorphovis.\+builders.\+soma.\+soma\+\_\+builder.\+Soma\+Builder@{meshy.\+neuromorphovis.\+builders.\+soma.\+soma\+\_\+builder.\+Soma\+Builder}}


 


\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_aed3044dc0400eb41af60f12c5dbd9a02}{\+\_\+\+\_\+init\+\_\+\+\_\+} (self, morphology, options, preserve\+\_\+topology\+\_\+at\+\_\+connections=False)
\item 
def \hyperlink{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_a32cd0ec9c6cc9df4a2c8cb5bd6fe0a5b}{create\+\_\+branch\+\_\+extrusion\+\_\+face} (self, soma\+\_\+sphere, soma\+\_\+radius, branch, visualize\+\_\+connection=False)
\item 
def \hyperlink{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_ab6ed8d0bfb3c4f5d5e699907d7e110e4}{build\+\_\+soma\+\_\+based\+\_\+on\+\_\+profile\+\_\+points\+\_\+only} (self, apply\+\_\+shader=True)
\item 
def \hyperlink{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_a8cc95d59ea4f712c628a186d3ee729fc}{build\+\_\+soma\+\_\+soft\+\_\+body} (self, apply\+\_\+shader=True)
\item 
def \hyperlink{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_a82be619f4f6b762da648cfdbc7a1ca6d}{build\+\_\+soma\+\_\+mesh\+\_\+from\+\_\+soft\+\_\+body\+\_\+object} (self, soft\+\_\+body\+\_\+object)
\item 
def \hyperlink{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_aad97d55539c922cca5577d9281121bf8}{reconstruct\+\_\+soma\+\_\+mesh} (self, apply\+\_\+shader=True)
\item 
def \hyperlink{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_ab901b1001921b33d5782c43096e9d02b}{reconstruct\+\_\+soma\+\_\+profile\+\_\+mesh} (self, apply\+\_\+shader=True)
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_aa8a48e246e1289f36d4a441ce58a36bf}{get\+\_\+branch\+\_\+extrusion\+\_\+scale} (branch, soma\+\_\+radius)
\item 
def \hyperlink{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_a7dec0631e7853f3b0d662699ceb8a320}{create\+\_\+profile\+\_\+point\+\_\+extrusion\+\_\+face} (soma\+\_\+sphere, soma\+\_\+radius, profile\+\_\+point, profile\+\_\+point\+\_\+index, visualize\+\_\+connection=False)
\item 
def \hyperlink{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_a41a0465463335ec0e4898ec2a3bfeac4}{attach\+\_\+hook\+\_\+to\+\_\+extrusion\+\_\+face} (soma\+\_\+sphere\+\_\+object, branch, extrusion\+\_\+face\+\_\+centroid, vertex\+\_\+group, hooks\+\_\+list, extrusion\+\_\+scale)
\item 
def \hyperlink{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_ad3f885265070ea7702be1840a6dde3ba}{attach\+\_\+hook\+\_\+to\+\_\+extrusion\+\_\+face\+\_\+on\+\_\+profile\+\_\+point} (soma\+\_\+sphere\+\_\+object, profile\+\_\+point, profile\+\_\+point\+\_\+index, extrusion\+\_\+face\+\_\+centroid, vertex\+\_\+group, hooks\+\_\+list)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
{\bfseries morphology}\hypertarget{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_a5c4993ac4c10d9bc2a738b11e6c1aba6}{}\label{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_a5c4993ac4c10d9bc2a738b11e6c1aba6}

\item 
{\bfseries options}\hypertarget{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_a4a815400e1d1008521624b435bca3bcb}{}\label{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_a4a815400e1d1008521624b435bca3bcb}

\item 
{\bfseries vertex\+\_\+group}\hypertarget{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_a9a7d5be2245e12ef798969e7165d8a90}{}\label{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_a9a7d5be2245e12ef798969e7165d8a90}

\item 
{\bfseries hooks\+\_\+list}\hypertarget{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_ad72261f6a80fb0affe923c8dd0e8f012}{}\label{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_ad72261f6a80fb0affe923c8dd0e8f012}

\item 
{\bfseries preserve\+\_\+topology\+\_\+at\+\_\+connections}\hypertarget{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_a57f166ee229e22205d38e05177fc23bd}{}\label{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_a57f166ee229e22205d38e05177fc23bd}

\end{DoxyCompactItemize}


\subsection{Detailed Description}


\begin{DoxyVerb}A robust factory for reconstructing a three-dimensional profile of neuronal somata on a
physically-plausible basis using soft body objects and the physics engine of Blender.
\end{DoxyVerb}
 

\subsection{Constructor \& Destructor Documentation}
\index{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder@{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder}!\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}}
\index{\+\_\+\+\_\+init\+\_\+\+\_\+@{\+\_\+\+\_\+init\+\_\+\+\_\+}!meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder@{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder}}
\subsubsection[{\texorpdfstring{\+\_\+\+\_\+init\+\_\+\+\_\+(self, morphology, options, preserve\+\_\+topology\+\_\+at\+\_\+connections=\+False)}{__init__(self, morphology, options, preserve_topology_at_connections=False)}}]{\setlength{\rightskip}{0pt plus 5cm}def meshy.\+neuromorphovis.\+builders.\+soma.\+soma\+\_\+builder.\+Soma\+Builder.\+\_\+\+\_\+init\+\_\+\+\_\+ (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{morphology, }
\item[{}]{options, }
\item[{}]{preserve\+\_\+topology\+\_\+at\+\_\+connections = {\ttfamily False}}
\end{DoxyParamCaption}
)}\hypertarget{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_aed3044dc0400eb41af60f12c5dbd9a02}{}\label{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_aed3044dc0400eb41af60f12c5dbd9a02}




\begin{DoxyVerb}Constructor.

:param morphology: A given morphology.
:param options: System options.
\end{DoxyVerb}
 

\subsection{Member Function Documentation}
\index{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder@{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder}!attach\+\_\+hook\+\_\+to\+\_\+extrusion\+\_\+face@{attach\+\_\+hook\+\_\+to\+\_\+extrusion\+\_\+face}}
\index{attach\+\_\+hook\+\_\+to\+\_\+extrusion\+\_\+face@{attach\+\_\+hook\+\_\+to\+\_\+extrusion\+\_\+face}!meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder@{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder}}
\subsubsection[{\texorpdfstring{attach\+\_\+hook\+\_\+to\+\_\+extrusion\+\_\+face(soma\+\_\+sphere\+\_\+object, branch, extrusion\+\_\+face\+\_\+centroid, vertex\+\_\+group, hooks\+\_\+list, extrusion\+\_\+scale)}{attach_hook_to_extrusion_face(soma_sphere_object, branch, extrusion_face_centroid, vertex_group, hooks_list, extrusion_scale)}}]{\setlength{\rightskip}{0pt plus 5cm}def meshy.\+neuromorphovis.\+builders.\+soma.\+soma\+\_\+builder.\+Soma\+Builder.\+attach\+\_\+hook\+\_\+to\+\_\+extrusion\+\_\+face (
\begin{DoxyParamCaption}
\item[{}]{soma\+\_\+sphere\+\_\+object, }
\item[{}]{branch, }
\item[{}]{extrusion\+\_\+face\+\_\+centroid, }
\item[{}]{vertex\+\_\+group, }
\item[{}]{hooks\+\_\+list, }
\item[{}]{extrusion\+\_\+scale}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_a41a0465463335ec0e4898ec2a3bfeac4}{}\label{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_a41a0465463335ec0e4898ec2a3bfeac4}




\begin{DoxyVerb}Attaches a hook to the extrusion face and locate it at the different keyframes.

:param soma_sphere_object:
:param branch:
:param extrusion_face_centroid:
:param vertex_group:
:param hooks_list:
:param extrusion_scale:
:return:
\end{DoxyVerb}
 \index{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder@{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder}!attach\+\_\+hook\+\_\+to\+\_\+extrusion\+\_\+face\+\_\+on\+\_\+profile\+\_\+point@{attach\+\_\+hook\+\_\+to\+\_\+extrusion\+\_\+face\+\_\+on\+\_\+profile\+\_\+point}}
\index{attach\+\_\+hook\+\_\+to\+\_\+extrusion\+\_\+face\+\_\+on\+\_\+profile\+\_\+point@{attach\+\_\+hook\+\_\+to\+\_\+extrusion\+\_\+face\+\_\+on\+\_\+profile\+\_\+point}!meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder@{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder}}
\subsubsection[{\texorpdfstring{attach\+\_\+hook\+\_\+to\+\_\+extrusion\+\_\+face\+\_\+on\+\_\+profile\+\_\+point(soma\+\_\+sphere\+\_\+object, profile\+\_\+point, profile\+\_\+point\+\_\+index, extrusion\+\_\+face\+\_\+centroid, vertex\+\_\+group, hooks\+\_\+list)}{attach_hook_to_extrusion_face_on_profile_point(soma_sphere_object, profile_point, profile_point_index, extrusion_face_centroid, vertex_group, hooks_list)}}]{\setlength{\rightskip}{0pt plus 5cm}def meshy.\+neuromorphovis.\+builders.\+soma.\+soma\+\_\+builder.\+Soma\+Builder.\+attach\+\_\+hook\+\_\+to\+\_\+extrusion\+\_\+face\+\_\+on\+\_\+profile\+\_\+point (
\begin{DoxyParamCaption}
\item[{}]{soma\+\_\+sphere\+\_\+object, }
\item[{}]{profile\+\_\+point, }
\item[{}]{profile\+\_\+point\+\_\+index, }
\item[{}]{extrusion\+\_\+face\+\_\+centroid, }
\item[{}]{vertex\+\_\+group, }
\item[{}]{hooks\+\_\+list}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_ad3f885265070ea7702be1840a6dde3ba}{}\label{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_ad3f885265070ea7702be1840a6dde3ba}




\begin{DoxyVerb}:param soma_sphere_object:
:param profile_point:
:param extrusion_face_centroid:
:param vertex_group:
:param hooks_list:
:return:
\end{DoxyVerb}
 \index{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder@{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder}!build\+\_\+soma\+\_\+based\+\_\+on\+\_\+profile\+\_\+points\+\_\+only@{build\+\_\+soma\+\_\+based\+\_\+on\+\_\+profile\+\_\+points\+\_\+only}}
\index{build\+\_\+soma\+\_\+based\+\_\+on\+\_\+profile\+\_\+points\+\_\+only@{build\+\_\+soma\+\_\+based\+\_\+on\+\_\+profile\+\_\+points\+\_\+only}!meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder@{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder}}
\subsubsection[{\texorpdfstring{build\+\_\+soma\+\_\+based\+\_\+on\+\_\+profile\+\_\+points\+\_\+only(self, apply\+\_\+shader=\+True)}{build_soma_based_on_profile_points_only(self, apply_shader=True)}}]{\setlength{\rightskip}{0pt plus 5cm}def meshy.\+neuromorphovis.\+builders.\+soma.\+soma\+\_\+builder.\+Soma\+Builder.\+build\+\_\+soma\+\_\+based\+\_\+on\+\_\+profile\+\_\+points\+\_\+only (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{apply\+\_\+shader = {\ttfamily True}}
\end{DoxyParamCaption}
)}\hypertarget{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_ab6ed8d0bfb3c4f5d5e699907d7e110e4}{}\label{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_ab6ed8d0bfb3c4f5d5e699907d7e110e4}




\begin{DoxyVerb}Reconstructs a three-dimensional profile of the soma based on the profile points only.
This function is quite helpful for testing the reconstructed projection with the profile
of the soma.

:param apply_shader: Apply the given soma shader in the configuration. This flag will be
set to False when the soma is created in another builder such as the skeleton builder or
the piecewise mesh builder.
:return: A reference to the reconstructed soma.
\end{DoxyVerb}
 \index{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder@{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder}!build\+\_\+soma\+\_\+mesh\+\_\+from\+\_\+soft\+\_\+body\+\_\+object@{build\+\_\+soma\+\_\+mesh\+\_\+from\+\_\+soft\+\_\+body\+\_\+object}}
\index{build\+\_\+soma\+\_\+mesh\+\_\+from\+\_\+soft\+\_\+body\+\_\+object@{build\+\_\+soma\+\_\+mesh\+\_\+from\+\_\+soft\+\_\+body\+\_\+object}!meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder@{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder}}
\subsubsection[{\texorpdfstring{build\+\_\+soma\+\_\+mesh\+\_\+from\+\_\+soft\+\_\+body\+\_\+object(self, soft\+\_\+body\+\_\+object)}{build_soma_mesh_from_soft_body_object(self, soft_body_object)}}]{\setlength{\rightskip}{0pt plus 5cm}def meshy.\+neuromorphovis.\+builders.\+soma.\+soma\+\_\+builder.\+Soma\+Builder.\+build\+\_\+soma\+\_\+mesh\+\_\+from\+\_\+soft\+\_\+body\+\_\+object (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{soft\+\_\+body\+\_\+object}
\end{DoxyParamCaption}
)}\hypertarget{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_a82be619f4f6b762da648cfdbc7a1ca6d}{}\label{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_a82be619f4f6b762da648cfdbc7a1ca6d}




\begin{DoxyVerb}The soma is reconstructed in two steps. The first builds the soft body object and then
the mesh is obtained by converting the soft body object into a watertight mesh.
This function assumes that the soft body object was created in a previous step and
converts this object into a mesh.

:param soft_body_object: A soft body object that reflects the profile of the soma.
:return: A reference to the soma mesh.
\end{DoxyVerb}
 \index{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder@{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder}!build\+\_\+soma\+\_\+soft\+\_\+body@{build\+\_\+soma\+\_\+soft\+\_\+body}}
\index{build\+\_\+soma\+\_\+soft\+\_\+body@{build\+\_\+soma\+\_\+soft\+\_\+body}!meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder@{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder}}
\subsubsection[{\texorpdfstring{build\+\_\+soma\+\_\+soft\+\_\+body(self, apply\+\_\+shader=\+True)}{build_soma_soft_body(self, apply_shader=True)}}]{\setlength{\rightskip}{0pt plus 5cm}def meshy.\+neuromorphovis.\+builders.\+soma.\+soma\+\_\+builder.\+Soma\+Builder.\+build\+\_\+soma\+\_\+soft\+\_\+body (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{apply\+\_\+shader = {\ttfamily True}}
\end{DoxyParamCaption}
)}\hypertarget{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_a8cc95d59ea4f712c628a186d3ee729fc}{}\label{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_a8cc95d59ea4f712c628a186d3ee729fc}




\begin{DoxyVerb}Builds the soma based on soft-body simulation and Hooke's law.
The building process ASSUMES non-overlapping and too faraway branches.
TODO: Consider the profile points that are not intersecting with the other branches.

:param apply_shader: Apply the given soma shader in the configuration. This flag will be
set to False when the soma is created in another builder such as the skeleton builder or
the piecewise mesh builder.
:return The soft body object after the deformation. This object will be used later to build
the soma mesh.
\end{DoxyVerb}
 \index{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder@{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder}!create\+\_\+branch\+\_\+extrusion\+\_\+face@{create\+\_\+branch\+\_\+extrusion\+\_\+face}}
\index{create\+\_\+branch\+\_\+extrusion\+\_\+face@{create\+\_\+branch\+\_\+extrusion\+\_\+face}!meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder@{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder}}
\subsubsection[{\texorpdfstring{create\+\_\+branch\+\_\+extrusion\+\_\+face(self, soma\+\_\+sphere, soma\+\_\+radius, branch, visualize\+\_\+connection=\+False)}{create_branch_extrusion_face(self, soma_sphere, soma_radius, branch, visualize_connection=False)}}]{\setlength{\rightskip}{0pt plus 5cm}def meshy.\+neuromorphovis.\+builders.\+soma.\+soma\+\_\+builder.\+Soma\+Builder.\+create\+\_\+branch\+\_\+extrusion\+\_\+face (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{soma\+\_\+sphere, }
\item[{}]{soma\+\_\+radius, }
\item[{}]{branch, }
\item[{}]{visualize\+\_\+connection = {\ttfamily False}}
\end{DoxyParamCaption}
)}\hypertarget{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_a32cd0ec9c6cc9df4a2c8cb5bd6fe0a5b}{}\label{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_a32cd0ec9c6cc9df4a2c8cb5bd6fe0a5b}




\begin{DoxyVerb}Builds a connecting extrusion face for emanating the branch from the soma. This function
returns the centroid of the face to be a basis for building the branch itself later and
attaching it to the soma.

:param soma_sphere: The ico-sphere that represent the initial shape of the soma.
:param soma_radius: The radius of the ico-sphere that reflect the initial shape of the soma.
:param branch: The branch where the extrusion will happen.
:param visualize_connection: Add a sphere to represent the connection between the branch
and the soma.
:return: The centroid of the created extrusion face.
\end{DoxyVerb}
 \index{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder@{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder}!create\+\_\+profile\+\_\+point\+\_\+extrusion\+\_\+face@{create\+\_\+profile\+\_\+point\+\_\+extrusion\+\_\+face}}
\index{create\+\_\+profile\+\_\+point\+\_\+extrusion\+\_\+face@{create\+\_\+profile\+\_\+point\+\_\+extrusion\+\_\+face}!meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder@{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder}}
\subsubsection[{\texorpdfstring{create\+\_\+profile\+\_\+point\+\_\+extrusion\+\_\+face(soma\+\_\+sphere, soma\+\_\+radius, profile\+\_\+point, profile\+\_\+point\+\_\+index, visualize\+\_\+connection=\+False)}{create_profile_point_extrusion_face(soma_sphere, soma_radius, profile_point, profile_point_index, visualize_connection=False)}}]{\setlength{\rightskip}{0pt plus 5cm}def meshy.\+neuromorphovis.\+builders.\+soma.\+soma\+\_\+builder.\+Soma\+Builder.\+create\+\_\+profile\+\_\+point\+\_\+extrusion\+\_\+face (
\begin{DoxyParamCaption}
\item[{}]{soma\+\_\+sphere, }
\item[{}]{soma\+\_\+radius, }
\item[{}]{profile\+\_\+point, }
\item[{}]{profile\+\_\+point\+\_\+index, }
\item[{}]{visualize\+\_\+connection = {\ttfamily False}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_a7dec0631e7853f3b0d662699ceb8a320}{}\label{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_a7dec0631e7853f3b0d662699ceb8a320}




\begin{DoxyVerb}To reshape the soma based on the profile points, we will extrude only towards the points
that do not have any intersections with the branches to improve the realism of the soma.

:param soma_sphere: The ico-sphere that represent the initial shape of the soma.
:param soma_radius: The radius of the ico-sphere that reflect the initial shape of the soma.
:param profile_point: A given two-dimensional profile point of the soma.
:param profile_point_index: The index of the given profile point.
:param visualize_connection: Add a sphere to represent the connection between the profile
point and the soma.
:return: The centroid of the created extrusion face.
\end{DoxyVerb}
 \index{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder@{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder}!get\+\_\+branch\+\_\+extrusion\+\_\+scale@{get\+\_\+branch\+\_\+extrusion\+\_\+scale}}
\index{get\+\_\+branch\+\_\+extrusion\+\_\+scale@{get\+\_\+branch\+\_\+extrusion\+\_\+scale}!meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder@{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder}}
\subsubsection[{\texorpdfstring{get\+\_\+branch\+\_\+extrusion\+\_\+scale(branch, soma\+\_\+radius)}{get_branch_extrusion_scale(branch, soma_radius)}}]{\setlength{\rightskip}{0pt plus 5cm}def meshy.\+neuromorphovis.\+builders.\+soma.\+soma\+\_\+builder.\+Soma\+Builder.\+get\+\_\+branch\+\_\+extrusion\+\_\+scale (
\begin{DoxyParamCaption}
\item[{}]{branch, }
\item[{}]{soma\+\_\+radius}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_aa8a48e246e1289f36d4a441ce58a36bf}{}\label{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_aa8a48e246e1289f36d4a441ce58a36bf}




\begin{DoxyVerb}Compute the ratio between the radius of the branch (or arbor) at the initial segment and
its mapping on the initial ico-sphere that is used to reconstruct the soma.

:param branch: The branch (or arbor) that we need to compute the extrusion scale for.
:param soma_radius: The radius of the initial ico-sphere that represent the soma.
:return: The ratio between the given soma radius and the extrusion radius of the branch.
\end{DoxyVerb}
 \index{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder@{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder}!reconstruct\+\_\+soma\+\_\+mesh@{reconstruct\+\_\+soma\+\_\+mesh}}
\index{reconstruct\+\_\+soma\+\_\+mesh@{reconstruct\+\_\+soma\+\_\+mesh}!meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder@{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder}}
\subsubsection[{\texorpdfstring{reconstruct\+\_\+soma\+\_\+mesh(self, apply\+\_\+shader=\+True)}{reconstruct_soma_mesh(self, apply_shader=True)}}]{\setlength{\rightskip}{0pt plus 5cm}def meshy.\+neuromorphovis.\+builders.\+soma.\+soma\+\_\+builder.\+Soma\+Builder.\+reconstruct\+\_\+soma\+\_\+mesh (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{apply\+\_\+shader = {\ttfamily True}}
\end{DoxyParamCaption}
)}\hypertarget{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_aad97d55539c922cca5577d9281121bf8}{}\label{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_aad97d55539c922cca5577d9281121bf8}




\begin{DoxyVerb}Reconstructs the mesh of the soma of the neuron in a single step.

:param apply_shader: Apply the given soma shader in the configuration. This flag will be
set to False when the soma is created in another builder such as the skeleton builder or
the piecewise mesh builder.
:return: A reference to the reconstructed mesh of the soma.
\end{DoxyVerb}
 \index{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder@{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder}!reconstruct\+\_\+soma\+\_\+profile\+\_\+mesh@{reconstruct\+\_\+soma\+\_\+profile\+\_\+mesh}}
\index{reconstruct\+\_\+soma\+\_\+profile\+\_\+mesh@{reconstruct\+\_\+soma\+\_\+profile\+\_\+mesh}!meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder@{meshy\+::neuromorphovis\+::builders\+::soma\+::soma\+\_\+builder\+::\+Soma\+Builder}}
\subsubsection[{\texorpdfstring{reconstruct\+\_\+soma\+\_\+profile\+\_\+mesh(self, apply\+\_\+shader=\+True)}{reconstruct_soma_profile_mesh(self, apply_shader=True)}}]{\setlength{\rightskip}{0pt plus 5cm}def meshy.\+neuromorphovis.\+builders.\+soma.\+soma\+\_\+builder.\+Soma\+Builder.\+reconstruct\+\_\+soma\+\_\+profile\+\_\+mesh (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{apply\+\_\+shader = {\ttfamily True}}
\end{DoxyParamCaption}
)}\hypertarget{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_ab901b1001921b33d5782c43096e9d02b}{}\label{classmeshy_1_1neuromorphovis_1_1builders_1_1soma_1_1soma__builder_1_1SomaBuilder_ab901b1001921b33d5782c43096e9d02b}




\begin{DoxyVerb}Reconstructs the mesh of the soma of the neuron in a single step based on the profile
points only.

:param apply_shader: Apply the given soma shader in the configuration. This flag will be
set to False when the soma is created in another builder such as the skeleton builder or
the piecewise mesh builder.
:return: A reference to the reconstructed mesh of the soma.
\end{DoxyVerb}
 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/home/abdellah/.\+config/blender/2.\+76/scripts/addons/meshy/neuromorphovis/builders/soma/soma\+\_\+builder.\+py\end{DoxyCompactItemize}
